"use strict";(self.webpackChunkfonds_gp_admincloud=self.webpackChunkfonds_gp_admincloud||[]).push([[117],{3117:(N,C,r)=>{r.r(C),r.d(C,{IntranetModule:()=>De});var _=r(9808),a=r(3075),d=r(8194),u=r(7366),s=r(9856),e=r(5e3),m=r(773),g=r(2927),f=r(5245),h=r(7238);let P=(()=>{class t{constructor(n){this.authServ=n}ngOnInit(){}toggleActif(n){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-sidenav"]],decls:29,vars:0,consts:[[1,"logo"],["href","","routerLink","/intranet","title","Nemateria || Valorisation de collections num\xe9ris\xe9es"],["src","./assets/img/Logo_Nemateria_v.png","alt","Nemateria || Valorisation de collections num\xe9ris\xe9es"],["routerLinkActive","active","routerLink","/intranet/collections","matTooltip","Acc\xe9der aux collections"],["routerLinkActive","active","routerLink","/intranet/scan","matTooltip","Scanner les dossiers pour constituer des collections"],[1,"settings"],["routerLinkActive","active","matTooltip","Se d\xe9connecter",3,"click"],["routerLinkActive","active","routerLink","/intranet/profil","matTooltip","Acc\xe9der \xe0 mon profil"],["routerLinkActive","active","routerLink","/intranet/aide","matTooltip","Un peu d'aide ?"],["routerLinkActive","active","routerLink","/intranet/parametres","matTooltip","Votre profil et vos param\xe8tres"]],template:function(n,o){1&n&&(e.TgZ(0,"header",0)(1,"a",1),e._UZ(2,"img",2),e.qZA()(),e.TgZ(3,"nav")(4,"ul"),e._UZ(5,"hr"),e.TgZ(6,"li")(7,"a",3)(8,"mat-icon"),e._uU(9,"collections"),e.qZA()()(),e._UZ(10,"hr"),e.TgZ(11,"li")(12,"a",4)(13,"mat-icon"),e._uU(14,"scanner"),e.qZA()()(),e._UZ(15,"hr"),e.qZA()(),e.TgZ(16,"section",5)(17,"a",6),e.NdJ("click",function(){return o.authServ.deconnexion()}),e.TgZ(18,"mat-icon"),e._uU(19,"remove_circle_outline"),e.qZA()(),e.TgZ(20,"a",7)(21,"mat-icon"),e._uU(22,"account_circle"),e.qZA()(),e.TgZ(23,"a",8)(24,"mat-icon"),e._uU(25,"help_outline"),e.qZA()(),e.TgZ(26,"a",9)(27,"mat-icon"),e._uU(28,"settings"),e.qZA()()())},dependencies:[u.yS,u.Od,f.Hw,h.gM],styles:['nav[_ngcontent-%COMP%]{margin:auto 0}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0;padding:0}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:48px;height:48px;margin:0 auto 8px;background-color:#fff;list-style:none}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:48px;height:48px;color:#000;display:flex;transition:all .3s ease}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffd600}nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:auto;display:block}.active[_ngcontent-%COMP%]{background-color:#eb974e}header.logo[_ngcontent-%COMP%]{width:100%;margin:15px 0;min-height:10vh}header.logo[_ngcontent-%COMP%]:hover{text-shadow:0 0px 5px rgba(0,0,0,1)}.logo[_ngcontent-%COMP%]{display:flex;width:100%;font-size:8px;color:#ffd600}.logo[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:padding-box}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffd600;margin:auto}.logo[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin:auto;width:100%;line-height:75px}.logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:auto;width:100%;text-align:center;line-height:.8em;font-family:Lora,Arial,sans-serif;font-size:14px}.logo[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{line-height:.5em;font-weight:400}.logo[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{height:40px;width:40px;overflow:hidden;content:"";position:absolute;margin-left:40px;margin-top:9px;transform:rotate(45deg);transform-origin:0 0}.logo[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]:before, .logo[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]:after, .logo[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:before, .logo[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{background-color:#ffd600;position:absolute;content:"";display:block;transition:all .4s ease-in-out}.logo[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]:before, .logo[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]:after{height:2px;width:40%}.logo[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:before, .logo[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{width:2px;height:40%}.logo[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]:before, .logo[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:before{left:0;top:0}.logo[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]:after, .logo[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{bottom:0;right:0}.settings[_ngcontent-%COMP%]{position:absolute;bottom:0;padding:10px;width:100%;display:flex;flex-flow:column nowrap;justify-content:space-between;color:#fff}.settings[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:auto}.settings[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}']}),t})();function J(t,c){1&t&&(e.TgZ(0,"div",1),e._UZ(1,"mat-spinner"),e.qZA())}let U=(()=>{class t{constructor(n){this.get=n}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.Y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-interface"]],decls:6,vars:1,consts:[["id","loader",4,"ngIf"],["id","loader"]],template:function(n,o){1&n&&(e.YNc(0,J,2,0,"div",0),e.TgZ(1,"main")(2,"section"),e._UZ(3,"app-sidenav"),e.qZA(),e.TgZ(4,"section"),e._UZ(5,"router-outlet"),e.qZA()()),2&n&&e.Q6J("ngIf",o.get.load)},dependencies:[_.O5,u.lC,m.Ou,P],styles:["main[_ngcontent-%COMP%]{display:inline-flex}section[_ngcontent-%COMP%]:nth-child(1){width:90px;background-color:#304753}section[_ngcontent-%COMP%]:nth-child(2){width:calc(100% - 90px);height:100vh;flex-flow:column nowrap}app-sidenav[_ngcontent-%COMP%]{position:relative}"]}),t})();var Z=r(4953),E=r(2313);function b(t,c){if(1&t&&(e.TgZ(0,"p"),e._UZ(1,"img",3),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("src",n.get.notice.media.url,e.LSH)}}function k(t,c){if(1&t&&(e.TgZ(0,"p",4)(1,"video",5),e._UZ(2,"source",6),e.qZA()()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("src",n.get.notice.media.url,e.LSH)("type",n.get.notice.dublincore.format)}}function w(t,c){if(1&t&&(e.TgZ(0,"p",4),e._UZ(1,"source",6),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("src",n.get.notice.media.url,e.LSH)("type",n.get.notice.dublincore.format)}}function y(t,c){if(1&t&&(e.TgZ(0,"p"),e._UZ(1,"iframe",3),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("src",n.dom.bypassSecurityTrustResourceUrl(n.get.notice.media.url),e.uOi)}}function S(t,c){if(1&t&&(e.TgZ(0,"span")(1,"strong"),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(2),e.Oqu(n.key),e.xp6(1),e.hij(" : ",n.value," ")}}function F(t,c){if(1&t&&(e.TgZ(0,"span")(1,"strong"),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(2),e.Oqu(n.key),e.xp6(1),e.hij(" : ",n.value," ")}}function I(t,c){if(1&t&&(e.TgZ(0,"span")(1,"strong"),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(2),e.Oqu(n.key),e.xp6(1),e.hij(" : ",n.value," ")}}function Q(t,c){if(1&t&&(e.TgZ(0,"li")(1,"strong"),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&t){const n=c.$implicit;e.xp6(2),e.Oqu(n.key),e.xp6(1),e.hij(" : ",n.value," ")}}function Y(t,c){if(1&t&&(e.TgZ(0,"strong"),e._uU(1),e.qZA(),e.TgZ(2,"ul"),e.YNc(3,Q,4,2,"li",7),e.ALo(4,"keyvalue"),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Oqu(n.key),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,2,n.value))}}function H(t,c){if(1&t&&(e.TgZ(0,"li"),e.YNc(1,I,4,2,"span",8),e.YNc(2,Y,5,4,"ng-template",null,11,e.W1O),e.qZA()),2&t){const n=c.$implicit,o=e.MAs(3),i=e.oxw(6);e.xp6(1),e.Q6J("ngIf","object"!==i.utils.typeOf(n.value))("ngIfElse",o)}}function L(t,c){if(1&t&&(e.TgZ(0,"strong"),e._uU(1),e.qZA(),e.TgZ(2,"ul"),e.YNc(3,H,4,2,"li",7),e.ALo(4,"keyvalue"),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Oqu(n.key),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,2,n.value))}}function $(t,c){if(1&t&&(e.TgZ(0,"li"),e.YNc(1,F,4,2,"span",8),e.YNc(2,L,5,4,"ng-template",null,10,e.W1O),e.qZA()),2&t){const n=c.$implicit,o=e.MAs(3),i=e.oxw(4);e.xp6(1),e.Q6J("ngIf","object"!==i.utils.typeOf(n.value))("ngIfElse",o)}}function j(t,c){if(1&t&&(e.TgZ(0,"strong"),e._uU(1),e.qZA(),e.TgZ(2,"ul"),e.YNc(3,$,4,2,"li",7),e.ALo(4,"keyvalue"),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Oqu(n.key),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,2,n.value))}}function K(t,c){if(1&t&&(e.TgZ(0,"li"),e.YNc(1,S,4,2,"span",8),e.YNc(2,j,5,4,"ng-template",null,9,e.W1O),e.qZA()),2&t){const n=c.$implicit,o=e.MAs(3),i=e.oxw(2);e.xp6(1),e.Q6J("ngIf","object"!==i.utils.typeOf(n.value))("ngIfElse",o)}}function G(t,c){if(1&t&&(e.TgZ(0,"article")(1,"ul"),e.YNc(2,K,4,2,"li",7),e.ALo(3,"keyvalue"),e.qZA()()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,n.get.notice))}}let M=(()=>{class t{constructor(n,o,i,l){this.get=n,this.utils=o,this.dom=i,this.auth=l,this.fermer=new e.vpe,this.update=!1}ngOnInit(){console.log(this.idNotice)}ngOnDestroy(){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.Y),e.Y36(Z.F),e.Y36(E.H7),e.Y36(g.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-notice"]],inputs:{idNotice:"idNotice"},outputs:{fermer:"fermer"},decls:11,vars:6,consts:[[3,"click"],[4,"ngIf"],["class","media",4,"ngIf"],[3,"src"],[1,"media"],["controls",""],[3,"src","type"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["elseBlockN",""],["elseObjM",""],["elseBlockL",""]],template:function(n,o){1&n&&(e.TgZ(0,"section")(1,"mat-icon",0),e.NdJ("click",function(){return o.fermer.emit(!1)}),e._uU(2,"close"),e.qZA(),e.TgZ(3,"header")(4,"h1"),e._uU(5),e.qZA(),e.YNc(6,b,2,1,"p",1),e.YNc(7,k,3,2,"p",2),e.YNc(8,w,2,2,"p",2),e.YNc(9,y,2,1,"p",1),e.qZA(),e.YNc(10,G,4,3,"article",1),e.qZA()),2&n&&(e.xp6(5),e.Oqu(o.get.notice.dublincore.title),e.xp6(1),e.Q6J("ngIf",o.get.notice.dublincore.format&&-1!=o.get.notice.dublincore.format.indexOf("image")),e.xp6(1),e.Q6J("ngIf",o.get.notice.dublincore.format&&-1!=o.get.notice.dublincore.format.indexOf("video")),e.xp6(1),e.Q6J("ngIf",o.get.notice.dublincore.format&&-1!=o.get.notice.dublincore.format.indexOf("audio")),e.xp6(1),e.Q6J("ngIf",o.get.notice.dublincore.format&&-1!=o.get.notice.dublincore.format.indexOf("application")),e.xp6(1),e.Q6J("ngIf",!o.update))},dependencies:[_.sg,_.O5,f.Hw,_.Nd],styles:["section[_ngcontent-%COMP%]{padding:10px 20px;flex-flow:row wrap}section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%], section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{width:100%}section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex}section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:auto}section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%}h1[_ngcontent-%COMP%]{width:100%;padding:10px;text-align:center}video[_ngcontent-%COMP%], audio[_ngcontent-%COMP%]{max-width:100%}iframe[_ngcontent-%COMP%]{width:100%;min-height:500px}"]}),t})();class D{constructor(){this.libre="",this.dateDebut="",this.dateFin="",this.type=""}}let v=(()=>{class t{transform(n,o){return n&&n.length?o?o.libre.length>2?n.filter(i=>{if(-1!==JSON.stringify(i).toLowerCase().indexOf(o.libre))return i}):o.type?n.filter(i=>{if(-1!==i.dc.format.indexOf(o.type))return i}):o.dateDebut?n.filter(i=>{let l=Date.parse(o.dateDebut);if(i.dc.date>=l)return i}):o.dateFin?n.filter(i=>{let l=Date.parse(o.dateFin);if(i.dc.date<=l)return i}):n:n:[]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275pipe=e.Yjl({name:"filtreNotices",type:t,pure:!1}),t})();var T=r(5636),O=r(9417);function z(t,c){if(1&t&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&t){const n=c.$implicit;e.xp6(1),e.hij(" ",n," ")}}function B(t,c){if(1&t&&(e.TgZ(0,"li"),e._uU(1),e.TgZ(2,"mat-icon",24),e._uU(3,"delete"),e.qZA()()),2&t){const n=c.$implicit;e.xp6(1),e.hij(" ",n.dc.title," ")}}function V(t,c){if(1&t&&(e.TgZ(0,"section")(1,"h3"),e._uU(2,"Notices"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,B,4,1,"li",20),e.qZA()()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("ngForOf",n.get.notices)}}let A=(()=>{class t{constructor(n,o){this.get=n,this.tokenServ=o,this.fermer=new e.vpe,this.affiche=!1,this.maj=!1,this.cree=!1}ngOnInit(){}collectionOnClick(){this.affiche=!0}afficheMaj(){this.maj=!this.maj}ecrire(){}mapSet(n){let o={};for(let i in n)o.hasOwnProperty(i)&&"_id"!=i&&(o[i]=n[i]);return console.log(o),o.series=new Set,n.documents.forEach(i=>{i.nemateria.serie&&o.series.add(i.nemateria.serie)}),o}genereNotices(){}supprimeNotice(n){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.Y),e.Y36(T.B))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-collection"]],inputs:{collection:"collection",idCollection:"idCollection"},outputs:{fermer:"fermer"},decls:58,vars:11,consts:[[1,"unique"],[3,"click"],["href","","routerLink","/intranet/scan"],["f","ngForm"],["for","titre"],["name","titre","required","",3,"ngModel","ngModelChange"],["for","alias"],["name","alias","required","","pattern","[a-z0-9-]+",3,"ngModel","ngModelChange"],["for","description"],["mat-input","","name","description","required","",3,"ngModel","ngModelChange"],["for","mediatype"],["name","mediatype","required","",3,"ngModel","ngModelChange"],["value","images"],["value","multimedia"],["for","createur"],["name","createur","required","",3,"ngModel","ngModelChange"],["for","fonds"],["name","fonds",3,"ngModel","ngModelChange"],["for","lang"],["name","lang",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"invalid",3,"click"],[1,"valid",3,"disabled","click"],[4,"ngIf"],["matTooltip","Enlever cette notice"]],template:function(n,o){if(1&n&&(e.TgZ(0,"section",0)(1,"header")(2,"h3"),e._uU(3,"Informations sur la collection "),e.TgZ(4,"mat-icon",1),e.NdJ("click",function(){return o.fermer.emit(!1)}),e._uU(5,"close"),e.qZA()(),e.TgZ(6,"h2"),e._uU(7),e.qZA(),e.TgZ(8,"p"),e._uU(9,"Attention, les modifications que vous allez op\xe9rer ici ne seront valables que dans la base de donn\xe9es. Les informations dans les m\xe9dias ne seront pas modifi\xe9es. Si c'est ce que vous souhaitez, t\xe9l\xe9versez les documents mis \xe0 jour sur le serveur et "),e.TgZ(10,"a",2),e._uU(11,"passez par la page de scan"),e.qZA(),e._uU(12," en choisissant la collection que vous souhaitez mettre \xe0 jour."),e.qZA()(),e.TgZ(13,"form")(14,"section")(15,"form",null,3)(17,"article")(18,"label",4),e._uU(19,"Titre"),e.qZA(),e.TgZ(20,"input",5),e.NdJ("ngModelChange",function(l){return o.get.collection.title=l}),e.qZA(),e.TgZ(21,"label",6),e._uU(22,"Alias"),e.qZA(),e.TgZ(23,"input",7),e.NdJ("ngModelChange",function(l){return o.get.collection.alias=l}),e.qZA(),e.TgZ(24,"label",8),e._uU(25,"Description"),e.qZA(),e.TgZ(26,"textarea",9),e.NdJ("ngModelChange",function(l){return o.get.collection.description=l}),e._uU(27,"                    "),e.qZA(),e.TgZ(28,"label",10),e._uU(29,"Type"),e.qZA(),e.TgZ(30,"select",11),e.NdJ("ngModelChange",function(l){return o.get.collection.typecollection=l}),e.TgZ(31,"option",12),e._uU(32,"Images"),e.qZA(),e.TgZ(33,"option",13),e._uU(34,"Multim\xe9dia"),e.qZA()(),e.TgZ(35,"label",14),e._uU(36,"Cr\xe9ateur"),e.qZA(),e.TgZ(37,"input",15),e.NdJ("ngModelChange",function(l){return o.get.collection.creator=l}),e.qZA(),e.TgZ(38,"label",16),e._uU(39,"Fonds"),e.qZA(),e.TgZ(40,"input",17),e.NdJ("ngModelChange",function(l){return o.get.collection.funds=l}),e.qZA(),e.TgZ(41,"label",18),e._uU(42,"Langue"),e.qZA(),e.TgZ(43,"input",19),e.NdJ("ngModelChange",function(l){return o.get.collection.language=l}),e.qZA()()(),e.TgZ(44,"article")(45,"h3"),e._uU(46,"S\xe9ries"),e.qZA(),e.TgZ(47,"mat-icon"),e._uU(48,"add"),e.qZA(),e.TgZ(49,"ul"),e.YNc(50,z,2,1,"li",20),e.qZA(),e._UZ(51,"hr"),e.TgZ(52,"p")(53,"button",21),e.NdJ("click",function(){return o.fermer.emit(!1)}),e._uU(54,"Annuler"),e.qZA(),e.TgZ(55,"button",22),e.NdJ("click",function(){return o.ecrire()}),e._uU(56,"Enregistrer la collection"),e.qZA()()()(),e.YNc(57,V,5,1,"section",23),e.qZA()()),2&n){const i=e.MAs(16);e.xp6(7),e.Oqu(o.get.collection.title),e.xp6(13),e.Q6J("ngModel",o.get.collection.title),e.xp6(3),e.Q6J("ngModel",o.get.collection.alias),e.xp6(3),e.Q6J("ngModel",o.get.collection.description),e.xp6(4),e.Q6J("ngModel",o.get.collection.typecollection),e.xp6(7),e.Q6J("ngModel",o.get.collection.creator),e.xp6(3),e.Q6J("ngModel",o.get.collection.funds),e.xp6(3),e.Q6J("ngModel",o.get.collection.language),e.xp6(7),e.Q6J("ngForOf",o.get.collection.series),e.xp6(5),e.Q6J("disabled",i.invalid||o.tokenServ.statut<2),e.xp6(2),e.Q6J("ngIf",o.get.notices&&o.idCollection)}},dependencies:[_.sg,_.O5,u.yS,f.Hw,h.gM,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.Q7,a.c5,a.On,a.F]}),t})();function R(t,c){if(1&t&&(e.TgZ(0,"video",33),e._UZ(1,"source",34),e.qZA()),2&t){const n=e.oxw().$implicit;e.Q6J("poster",n.dublincore.coverage,e.LSH),e.xp6(1),e.Q6J("src",n.media.url,e.LSH)("type",n.dublincore.format)}}function X(t,c){if(1&t&&(e.TgZ(0,"audio"),e._UZ(1,"source",34),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("src",n.media.url,e.LSH)("type",n.dublincore.format)}}function W(t,c){1&t&&(e.TgZ(0,"mat-icon"),e._uU(1,"check_circle"),e.qZA())}function ee(t,c){1&t&&(e.TgZ(0,"mat-icon"),e._uU(1,"check_circle_outline"),e.qZA())}function ne(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"li",26)(1,"div"),e.YNc(2,R,2,3,"video",27),e.YNc(3,X,2,2,"audio",23),e.TgZ(4,"div",28),e.NdJ("mouseenter",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.utils.play(i))})("mouseleave",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.utils.pause(i))})("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.fake())}),e.TgZ(5,"div")(6,"mat-icon",29),e.NdJ("click",function(){const l=e.CHM(n).$implicit,p=e.oxw();return e.KtG(p.noticeOnAffiche(l._id))}),e._uU(7,"visibility"),e.qZA(),e.TgZ(8,"mat-icon",30),e.NdJ("click",function(){const l=e.CHM(n).$implicit,p=e.oxw();return e.KtG(p.noticeSelectionnee(l._id))}),e._uU(9,"add_circle"),e.qZA(),e.TgZ(10,"mat-icon",31),e.NdJ("click",function(){const l=e.CHM(n).$implicit,p=e.oxw();return e.KtG(p.noticeSelectionRemove(l._id))}),e._uU(11,"remove_circle"),e.qZA(),e.TgZ(12,"mat-icon",32),e.NdJ("click",function(){const l=e.CHM(n).$implicit,p=e.oxw();return e.KtG(p.noticeOnInfo(l._id))}),e._uU(13,"info"),e.qZA()()()(),e.TgZ(14,"div")(15,"h3"),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA(),e.TgZ(19,"div"),e.YNc(20,W,2,0,"mat-icon",23),e.YNc(21,ee,2,0,"mat-icon",23),e.qZA()()()}if(2&t){const n=c.$implicit,o=e.oxw();e.xp6(1),e.Udp("background-image",o.utils.setNoticeBg(n)),e.ekj("choix",n.selected),e.xp6(1),e.Q6J("ngIf",n.dublincore.format&&-1!=n.dublincore.format.indexOf("video")),e.xp6(1),e.Q6J("ngIf",n.dublincore.format&&-1!=n.dublincore.format.indexOf("audio")),e.xp6(13),e.Oqu(n.dublincore.title),e.xp6(2),e.Oqu(n.dublincore.description),e.xp6(2),e.Q6J("ngIf",n.selected),e.xp6(1),e.Q6J("ngIf",!n.selected)}}function te(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"mat-icon",35),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.noticesSuppr())}),e._uU(1,"delete_forever"),e.qZA()}}function oe(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"li")(1,"mat-chip-list")(2,"mat-chip",36),e.NdJ("removed",function(){const l=e.CHM(n).$implicit,p=e.oxw();return e.KtG(p.noticeSelectionRemove(l._id))}),e._uU(3),e.TgZ(4,"mat-icon",37),e._uU(5,"cancel"),e.qZA()()()()}if(2&t){const n=c.$implicit;e.xp6(3),e.hij(" ",n.dublincore.title," ")}}function ie(t,c){if(1&t&&(e.TgZ(0,"article")(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"ul")(4,"li"),e._uU(5),e.qZA(),e.TgZ(6,"li"),e._uU(7),e.qZA(),e.TgZ(8,"li"),e._uU(9),e.qZA()()()),2&t){const n=e.oxw();e.xp6(2),e.Oqu(n.noticeChoisie.dublincore.title),e.xp6(3),e.Oqu(n.noticeChoisie.dublincore.description),e.xp6(2),e.Oqu(n.noticeChoisie.media.file),e.xp6(2),e.Oqu(n.noticeChoisie.media.url)}}function ce(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"app-notice",38),e.NdJ("fermer",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.masque())}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("idNotice",n.idNotice)}}function le(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"app-collection",39),e.NdJ("fermer",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.masque())}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("idCollection",n.idCollection)}}let ae=(()=>{class t{constructor(n,o,i,l){this.get=n,this.utils=o,this.noticesPipe=i,this.tokenServ=l,this.noticeListe=[],this.noticeSelection=[],this.noticeAffiche=!1,this.afficheDetailNotice=!1,this.afficheDetailCollec=!1}ngOnInit(){this.idNotice=-1,this.filtre=new D}noticeOnAffiche(n){this.idNotice=n,this.afficheDetailNotice=!this.afficheDetailNotice}noticeSelectionnee(n){this.idNotice=n,this.noticeSelection.find(o=>o.idnotices==n)&&this.noticeSelectionRemove(n)}noticeOnInfo(n){}noticeSelectionDump(){this.noticeAffiche=!1,this.noticeSelection=[]}noticeSelectionRemove(n){for(let o=0;o<this.noticeSelection.length;o++){let i=this.noticeSelection[o];i.selected=!1,i.idnotices==n&&this.noticeSelection.splice(o,1)}}noticesToutesChoisies(){}noticesAucuneChoisie(){this.noticeSelection=[]}masque(n){this.afficheDetailNotice=n,this.afficheDetailCollec=n,this.idNotice=-1,this.idCollection=-1}collectionOnAffiche(n=-1){this.idCollection=n,this.afficheDetailCollec=!0}fake(){}noticesSuppr(){}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.Y),e.Y36(Z.F),e.Y36(v),e.Y36(T.B))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-notices"]],decls:51,vars:13,consts:[[1,"screen","double"],[1,"filtre"],["for","libre"],["name","libre","placeholder","Filtre libre",3,"ngModel","ngModelChange"],["for","dateDebut"],["name","dateDebut","type","date","placeholder","A partir de...",3,"ngModel","ngModelChange"],["for","dateFin"],["name","dateFin","type","date","placeholder","... jusqu'\xe0",3,"ngModel","ngModelChange"],["for","type"],["name","type","placeholder","Type de fichiers",3,"ngModel","ngModelChange"],["value","image"],["value","video"],["value","audio"],["value","application"],[1,"notice-liste"],["class","notice",4,"ngFor","ngForOf"],[1,"right-panel"],[1,"demi"],["matTooltip","S\xe9lectionner toutes les notices",3,"click"],["matTooltip","D\xe9selectionner toutes les notices",3,"click"],["matTooltip","Cr\xe9er une collection \xe0 partir de la s\xe9lection",3,"click"],["matTooltip","Supprimer les notices s\xe9lectionn\xe9es",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","unique",3,"idNotice","fermer",4,"ngIf"],["class","unique",3,"idCollection","fermer",4,"ngIf"],[1,"notice"],[3,"poster",4,"ngIf"],[3,"mouseenter","mouseleave","click"],["matTooltip","Voir la fiche de la notice",3,"click"],["matTooltip","Ajouter cette notice \xe0 la liste s\xe9lectionn\xe9e",3,"click"],["matTooltip","Supprimer la notice",3,"click"],["matTooltip","Informations rapides sur la notice",3,"click"],[3,"poster"],[3,"src","type"],["matTooltip","Supprimer les notices s\xe9lectionn\xe9es",3,"click"],[3,"removed"],["matChipRemove",""],[1,"unique",3,"idNotice","fermer"],[1,"unique",3,"idCollection","fermer"]],template:function(n,o){1&n&&(e.TgZ(0,"section",0)(1,"section")(2,"header",1)(3,"h2"),e._uU(4,"Filtrer les notices"),e.qZA(),e.TgZ(5,"form")(6,"label",2),e._uU(7,"Filtre libre "),e.TgZ(8,"input",3),e.NdJ("ngModelChange",function(l){return o.filtre.libre=l}),e.qZA()(),e.TgZ(9,"label",4),e._uU(10,"Date de cr\xe9ation (d\xe9but) "),e.TgZ(11,"input",5),e.NdJ("ngModelChange",function(l){return o.filtre.dateDebut=l}),e.qZA()(),e.TgZ(12,"label",6),e._uU(13,"Date de cr\xe9ation (fin) "),e.TgZ(14,"input",7),e.NdJ("ngModelChange",function(l){return o.filtre.dateFin=l}),e.qZA()(),e.TgZ(15,"label",8),e._uU(16,"Types de fichiers "),e.TgZ(17,"select",9),e.NdJ("ngModelChange",function(l){return o.filtre.type=l}),e.TgZ(18,"option",10),e._uU(19,"Images"),e.qZA(),e.TgZ(20,"option",11),e._uU(21,"Vid\xe9os"),e.qZA(),e.TgZ(22,"option",12),e._uU(23,"Audio"),e.qZA(),e.TgZ(24,"option",13),e._uU(25,"Textes"),e.qZA()()()()(),e.TgZ(26,"ul",14),e.YNc(27,ne,22,10,"li",15),e.ALo(28,"filtreNotices"),e.qZA()(),e.TgZ(29,"aside",16)(30,"section",17)(31,"header")(32,"h4"),e._uU(33,"Actions group\xe9es : "),e.qZA(),e.TgZ(34,"mat-icon",18),e.NdJ("click",function(){return o.noticesToutesChoisies()}),e._uU(35,"filter"),e.qZA(),e.TgZ(36,"mat-icon",19),e.NdJ("click",function(){return o.noticesAucuneChoisie()}),e._uU(37,"filter_none"),e.qZA(),e.TgZ(38,"mat-icon",20),e.NdJ("click",function(){return o.collectionOnAffiche()}),e._uU(39,"collections"),e.qZA(),e.YNc(40,te,2,0,"mat-icon",21),e.qZA(),e.TgZ(41,"h2"),e._uU(42,"Liste des notices s\xe9lectionn\xe9es"),e.qZA(),e.TgZ(43,"ul"),e.YNc(44,oe,6,1,"li",22),e.qZA()(),e.TgZ(45,"section",17)(46,"h2"),e._uU(47,"M\xe9tadonn\xe9es d\u2019une notice s\xe9lectionn\xe9e"),e.qZA(),e.YNc(48,ie,10,4,"article",23),e.qZA()()(),e.YNc(49,ce,1,1,"app-notice",24),e.YNc(50,le,1,1,"app-collection",25)),2&n&&(e.xp6(8),e.Q6J("ngModel",o.filtre.libre),e.xp6(3),e.Q6J("ngModel",o.filtre.dateDebut),e.xp6(3),e.Q6J("ngModel",o.filtre.dateFin),e.xp6(3),e.Q6J("ngModel",o.filtre.type),e.xp6(10),e.Q6J("ngForOf",e.xi3(28,10,o.get.notices,o.filtre)),e.xp6(13),e.Q6J("ngIf",o.tokenServ.statut>=2),e.xp6(4),e.Q6J("ngForOf",o.noticeSelection),e.xp6(4),e.Q6J("ngIf",o.noticeAffiche),e.xp6(1),e.Q6J("ngIf",o.afficheDetailNotice),e.xp6(1),e.Q6J("ngIf",o.afficheDetailCollec))},dependencies:[_.sg,_.O5,O.qn,O.HS,O.qH,f.Hw,h.gM,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.On,a.F,M,A,v],styles:["section[_ngcontent-%COMP%] > section[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{padding:0;margin:0}aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:inline-block;margin:5px}aside[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]:nth-child(1){background-color:#a3c6c2}aside[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]:nth-child(2){background-color:#13c7af}"]}),t})();function se(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"li",10),e.NdJ("click",function(){const l=e.CHM(n).$implicit,p=e.oxw();return e.KtG(p.colClick(l.idcollections))}),e._uU(1),e.qZA()}if(2&t){const n=c.$implicit;e.xp6(1),e.AsE(" ",n.title," (",n.funds,") ")}}function re(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"div")(1,"mat-icon",11),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.delete=!0)}),e._uU(2,"delete"),e.qZA(),e.TgZ(3,"mat-icon",12),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.detailsCollec=!0)}),e._uU(4,"edit"),e.qZA()()}}function _e(t,c){if(1&t&&(e.TgZ(0,"li")(1,"strong"),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(2),e.Oqu(n.key),e.xp6(1),e.hij(" : ",n.value," ")}}function pe(t,c){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,_e,4,2,"li",4),e.qZA()),2&t){const n=c.$implicit;e.xp6(1),e.Q6J("ngIf","notices"!=n.key)}}function ue(t,c){if(1&t&&(e.TgZ(0,"article")(1,"ul"),e.YNc(2,pe,2,1,"div",13),e.ALo(3,"keyvalue"),e.qZA()()),2&t){const n=e.oxw();e.xp6(2),e.Q6J("ngForOf",e.lcZ(3,1,n.cloud.collection))}}function ge(t,c){if(1&t&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&t){const n=c.$implicit;e.xp6(1),e.hij(" ",n," ")}}function de(t,c){if(1&t&&(e.TgZ(0,"article")(1,"h3"),e._uU(2,"S\xe9ries de la collection"),e.qZA(),e.TgZ(3,"ul"),e.YNc(4,ge,2,1,"li",13),e.qZA()()),2&t){const n=e.oxw();e.xp6(4),e.Q6J("ngForOf",n.cloud.collection.series)}}function me(t,c){if(1&t&&(e.TgZ(0,"video",22),e._UZ(1,"source",23),e.qZA()),2&t){const n=e.oxw().$implicit;e.Q6J("poster",n.dc.coverage,e.LSH),e.xp6(1),e.Q6J("src",n.media.url,e.LSH)("type",n.dc.format)}}function fe(t,c){if(1&t&&(e.TgZ(0,"audio"),e._UZ(1,"source",23),e.qZA()),2&t){const n=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("src",o.cloud.config.s3+n.media.url,e.LSH)("type",n.dc.format)}}function Ce(t,c){if(1&t&&(e.TgZ(0,"div")(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"p"),e._uU(4),e.qZA()()),2&t){const n=e.oxw().$implicit;e.xp6(2),e.Oqu(n.dc.title),e.xp6(2),e.Oqu(n.dc.description)}}function he(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"li",17)(1,"div"),e.YNc(2,me,2,3,"video",18),e.YNc(3,fe,2,2,"audio",4),e.TgZ(4,"div",19),e.NdJ("mouseenter",function(i){e.CHM(n);const l=e.oxw(2);return e.KtG(l.utils.play(i))})("mouseleave",function(i){e.CHM(n);const l=e.oxw(2);return e.KtG(l.utils.pause(i))}),e.TgZ(5,"div")(6,"mat-icon",20),e.NdJ("click",function(){const l=e.CHM(n).$implicit,p=e.oxw(2);return e.KtG(p.idNotice=l.idnotices)}),e._uU(7," visibility"),e.qZA(),e.TgZ(8,"mat-icon",21),e.NdJ("click",function(){const l=e.CHM(n).$implicit,p=e.oxw(2);return e.KtG(p.noticeOnEnlever(l._id))}),e._uU(9,"remove_circle"),e.qZA()()()(),e.YNc(10,Ce,5,2,"div",4),e.qZA()}if(2&t){const n=c.$implicit,o=e.oxw(2);e.xp6(1),e.Udp("background-image",o.utils.setNoticeBg(o.cloud.config.s3,n)),e.xp6(1),e.Q6J("ngIf",n.dc.format&&-1!=n.dc.format.indexOf("video")),e.xp6(1),e.Q6J("ngIf",n.dc.format&&-1!=n.dc.format.indexOf("audio")),e.xp6(7),e.Q6J("ngIf",o.idCollection)}}function Ze(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"ul",14),e.YNc(1,he,11,5,"li",15),e.ALo(2,"slice"),e.TgZ(3,"div",16)(4,"button",10),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.suite(!1))}),e._uU(5," < "),e.qZA(),e.TgZ(6,"button",10),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.suite(!0))}),e._uU(7," > "),e.qZA()()()}if(2&t){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,1,n.cloud.notices,n.pagine.d,n.pagine.d+n.pagine.e))}}function Te(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"section",24)(1,"article")(2,"h3"),e._uU(3,"Supprimer une notice"),e.qZA(),e.TgZ(4,"p"),e._uU(5,"En cliquant sur valider la suppression vous enleverez la notice de cette collection."),e.qZA(),e.TgZ(6,"p"),e._uU(7,"Elle restera n\xe9anmoins disponible dans les autres collections ou pourra \xeatre int\xe9gr\xe9e dans une autre s\xe9lection. "),e.qZA(),e.TgZ(8,"button"),e._uU(9,"Valider la suppression"),e.qZA(),e.TgZ(10,"button",10),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.masque())}),e._uU(11,"Annuler"),e.qZA()()()}}function xe(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"section",24)(1,"article")(2,"h2"),e._uU(3,"Etes-vous s\xfbr.e ?"),e.qZA(),e.TgZ(4,"p")(5,"mat-icon",25),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.delete=!1)}),e._uU(6,"cancel"),e.qZA(),e.TgZ(7,"mat-icon",26),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return i.colServ.supprCollec(i.colServ.collection._id),e.KtG(i.delete=!1)}),e._uU(8,"check_circle"),e.qZA()()()()}}function Me(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"app-collection",27),e.NdJ("fermer",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.masque())}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("idCollection",n.idCollection)}}function Oe(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"app-notice",28),e.NdJ("fermer",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.masque())}),e.qZA()}if(2&t){const n=e.oxw();e.Q6J("idNotice",n.idNotice)}}let q=(()=>{class t{constructor(n,o,i){this.tokenServ=n,this.cloud=o,this.utils=i,this.collectionListe=[],this.detailsCollec=!1,this.afficheEnlever=!1,this.delete=!1,this.pagine={d:0,e:20},this.filtreSerie=""}ngOnInit(){}colClick(n){console.log("Collection cliqu\xe9e",n),this.idCollection=n,this.cloud.collection=this.cloud.collections.filter(o=>o.idcollections=n)[0],console.log(this.cloud.collection),this.cloud.getNoticesByCollec(this.cloud.collection.notices)}noticeOnEnlever(n){console.log("Notice \xe0 enlever",n),this.idNotice=n,this.afficheEnlever=!0}masque(){this.detailsCollec=!1,this.afficheEnlever=!1,this.idNotice=null,this.idCollection=null}suite(n){console.log(this.pagine,this.cloud.notices.length),n?this.pagine.d+this.pagine.e<this.cloud.notices.length-1?this.pagine.d+=this.pagine.e:this.pagine.d=this.pagine.d+this.pagine.e-this.cloud.notices.length-1:this.pagine.d-this.pagine.e<0?this.pagine.d=this.cloud.notices.length-1+this.pagine.d-this.pagine.e:this.pagine.d-=this.pagine.e,console.log(this.pagine,this.cloud.notices.length)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(T.B),e.Y36(s.Y),e.Y36(Z.F))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-collections"]],decls:23,vars:9,consts:[[1,"screen","triple"],[1,"left-panel"],["matTooltip","Ajouter une collection","routerLink","/intranet/scan"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"selection"],["class","notice-liste",4,"ngIf"],["class","pop-up",4,"ngIf"],["class","unique",3,"idCollection","fermer",4,"ngIf"],["class","unique",3,"idNotice","fermer",4,"ngIf"],[3,"click"],["matTooltip","Supprimer le SET",3,"click"],["matTooltip","Modifier la collection",3,"click"],[4,"ngFor","ngForOf"],[1,"notice-liste"],["class","notice",4,"ngFor","ngForOf"],[1,"h"],[1,"notice"],[3,"poster",4,"ngIf"],[3,"mouseenter","mouseleave"],["matTooltip","Voir la fiche de la notice",3,"click"],["matTooltip","Enlever cette notice de la collection",3,"click"],[3,"poster"],[3,"src","type"],[1,"pop-up"],["matTooltip","Annuler la destruction",1,"grand",3,"click"],["matTooltip","Valider la destruction",1,"grand",3,"click"],[1,"unique",3,"idCollection","fermer"],[1,"unique",3,"idNotice","fermer"]],template:function(n,o){1&n&&(e.TgZ(0,"section",0)(1,"aside",1)(2,"header")(3,"h1"),e._uU(4,"Collections disponibles"),e.qZA(),e.TgZ(5,"mat-icon",2),e._uU(6,"playlist_add"),e.qZA()(),e.TgZ(7,"ul"),e.YNc(8,se,2,2,"li",3),e.qZA()(),e.TgZ(9,"section")(10,"header"),e.YNc(11,re,5,0,"div",4),e.TgZ(12,"h2"),e._uU(13,"Informations sur la collection choisie"),e.qZA()(),e.YNc(14,ue,4,3,"article",4),e.YNc(15,de,5,1,"article",4),e.qZA(),e.TgZ(16,"aside")(17,"section",5),e.YNc(18,Ze,8,5,"ul",6),e.qZA()()(),e.YNc(19,Te,12,0,"section",7),e.YNc(20,xe,9,0,"section",7),e.YNc(21,Me,1,1,"app-collection",8),e.YNc(22,Oe,1,1,"app-notice",9)),2&n&&(e.xp6(8),e.Q6J("ngForOf",o.cloud.collections),e.xp6(3),e.Q6J("ngIf",o.idCollection),e.xp6(3),e.Q6J("ngIf",o.idCollection),e.xp6(1),e.Q6J("ngIf",o.cloud.collection.series&&o.idCollection),e.xp6(3),e.Q6J("ngIf",o.idCollection),e.xp6(1),e.Q6J("ngIf",o.afficheEnlever),e.xp6(1),e.Q6J("ngIf",o.delete&&o.tokenServ.statut>=2),e.xp6(1),e.Q6J("ngIf",o.detailsCollec),e.xp6(1),e.Q6J("ngIf",o.idNotice))},dependencies:[_.sg,_.O5,u.rH,f.Hw,h.gM,M,A,_.OU,_.Nd],styles:["section.screen[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:10px 15px}section.screen[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:right}section.screen[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{flex-grow:3;min-width:30%}aside[_ngcontent-%COMP%]:nth-child(3){flex-grow:4;min-width:40%;background-color:#ffd50080;padding:0}aside[_ngcontent-%COMP%]:nth-child(3)   .notice[_ngcontent-%COMP%]{width:50%}aside[_ngcontent-%COMP%]:nth-child(3)   ul[_ngcontent-%COMP%], aside[_ngcontent-%COMP%]:nth-child(3)   section[_ngcontent-%COMP%]{padding:0;margin:0}"]}),t})();var Ae=r(4766);function ve(t,c){1&t&&(e.TgZ(0,"button"),e._uU(1,"Enregistrer"),e.qZA())}function qe(t,c){if(1&t&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&t){const n=c.$implicit;e.xp6(1),e.AsE(" ",n.key," : ",n.value," ... ")}}let Ne=(()=>{class t{constructor(n){this.uServ=n}ngOnInit(){this.env=Ae.N}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(g.e))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-parametres"]],decls:19,vars:5,consts:[[1,"screen","triple"],["name","serv",3,"ngModel","ngModelChange"],["ctlServ","ngModel"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(n,o){if(1&n&&(e.TgZ(0,"section",0)(1,"aside")(2,"h2"),e._uU(3,"Param\xe8tres"),e.qZA()(),e.TgZ(4,"section")(5,"h2"),e._uU(6,"Serveur de donn\xe9es"),e.qZA(),e.TgZ(7,"p"),e._uU(8,"Adresse de la base de donn\xe9es :"),e.qZA(),e.TgZ(9,"input",1,2),e.NdJ("ngModelChange",function(l){return o.env.SERV=l}),e.qZA(),e.YNc(11,ve,2,0,"button",3),e._UZ(12,"p"),e.qZA(),e.TgZ(13,"aside")(14,"h2"),e._uU(15,"Votre profil"),e.qZA(),e.TgZ(16,"ul"),e.YNc(17,qe,2,2,"li",4),e.ALo(18,"keyvalue"),e.qZA()()()),2&n){const i=e.MAs(10);e.xp6(9),e.Q6J("ngModel",o.env.SERV),e.xp6(2),e.Q6J("ngIf",i.touched),e.xp6(6),e.Q6J("ngForOf",e.lcZ(18,3,o.uServ.userAuth))}},dependencies:[_.sg,_.O5,a.Fj,a.JJ,a.On,_.Nd],styles:["section.triple[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{width:35vw}section.triple[_ngcontent-%COMP%] > aside[_ngcontent-%COMP%]:nth-child(1){width:30vw}section.triple[_ngcontent-%COMP%] > aside[_ngcontent-%COMP%]:nth-child(3){width:35vw}section.screen[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:10px 15px}section.screen[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:right}aside[_ngcontent-%COMP%]:nth-child(1){background-color:#f06060;flex-grow:1;min-width:150px;color:#fff}*[_ngcontent-%COMP%]   aside[_ngcontent-%COMP%]:nth-child(1)   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;padding:10px;margin-bottom:5px;background:#FFF;transition:all .3s ease}aside[_ngcontent-%COMP%]:nth-child(1)   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:-5px;float:right}aside[_ngcontent-%COMP%]:nth-child(1)   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:grey}aside[_ngcontent-%COMP%]:nth-child(1) > *[_ngcontent-%COMP%]{width:100%}section.screen[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-grow:1}aside[_ngcontent-%COMP%]:nth-child(3){flex-grow:1;background-color:#f060607a;padding:0}aside[_ngcontent-%COMP%]:nth-child(3)   ul[_ngcontent-%COMP%], aside[_ngcontent-%COMP%]:nth-child(3)   section[_ngcontent-%COMP%]{padding:0;margin:0}"]}),t})(),Pe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profil"]],decls:2,vars:0,template:function(n,o){1&n&&(e.TgZ(0,"p"),e._uU(1,"profil works!"),e.qZA())}}),t})();var x=r(1125);function Je(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"li",2),e.NdJ("click",function(){const l=e.CHM(n).$implicit,p=e.oxw();return e.KtG(p.scanFold(l))}),e._uU(1),e.qZA()}if(2&t){const n=c.$implicit;e.xp6(1),e.hij(" ",n," ")}}function Ue(t,c){if(1&t&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&t){const n=c.$implicit;e.xp6(1),e.AsE("",n.key," : ",n.value,"")}}function Ee(t,c){if(1&t&&(e.TgZ(0,"ul"),e.YNc(1,Ue,2,2,"li",6),e.ALo(2,"keyvalue"),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,n.dc))}}function be(t,c){if(1&t&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&t){const n=c.$implicit;e.xp6(1),e.AsE("",n.key," : ",n.value,"")}}function ke(t,c){if(1&t&&(e.TgZ(0,"ul"),e.YNc(1,be,2,2,"li",6),e.ALo(2,"keyvalue"),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,n.nema))}}function we(t,c){if(1&t&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&t){const n=c.$implicit;e.xp6(1),e.AsE("",n.key," : ",n.value,"")}}function ye(t,c){if(1&t&&(e.TgZ(0,"ul"),e.YNc(1,we,2,2,"li",6),e.ALo(2,"keyvalue"),e.qZA()),2&t){const n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,n.media))}}function Se(t,c){if(1&t&&(e.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),e._uU(3),e.qZA(),e.TgZ(4,"mat-panel-description"),e._uU(5),e.qZA()(),e.YNc(6,Ee,3,3,"ul",4),e.YNc(7,ke,3,3,"ul",4),e.YNc(8,ye,3,3,"ul",4),e.qZA()),2&t){const n=c.$implicit,o=c.index;e.xp6(3),e.Oqu(o+1),e.xp6(2),e.Oqu(n.idnotices),e.xp6(1),e.Q6J("ngIf",n.dc),e.xp6(1),e.Q6J("ngIf",n.nema),e.xp6(1),e.Q6J("ngIf",n.media)}}function Fe(t,c){if(1&t&&(e.TgZ(0,"article")(1,"h3"),e._uU(2,"Notices scann\xe9es"),e.qZA(),e.YNc(3,Se,9,5,"mat-expansion-panel",6),e.qZA()),2&t){const n=e.oxw();e.xp6(3),e.Q6J("ngForOf",n.get.scannedData)}}function Ie(t,c){if(1&t&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&t){const n=c.$implicit;e.Q6J("value",c.index),e.xp6(1),e.hij("Mettre \xe0 jour la collection : ",n.title,"")}}function Qe(t,c){if(1&t&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&t){const n=c.$implicit;e.xp6(1),e.hij(" ",n," ")}}function Ye(t,c){if(1&t&&e._UZ(0,"input",26),2&t){e.oxw();const n=e.MAs(1);e.Q6J("disabled",n.valid)}}function He(t,c){if(1&t&&e._UZ(0,"input",27),2&t){e.oxw();const n=e.MAs(1);e.Q6J("disabled",n.valid)}}function Le(t,c){if(1&t){const n=e.EpF();e.TgZ(0,"section",7,8)(2,"h2"),e._uU(3,"Cr\xe9er ou mettre \xe0 jour une collection \xe0 partir de ces donn\xe9es"),e.qZA(),e.TgZ(4,"article")(5,"p"),e._uU(6,"Vous pouvez choisir l'option 'Cr\xe9er une nouvelle collection' ou s\xe9lectionner une collection existante pour la mettre \xe0 jour."),e.qZA(),e.TgZ(7,"select",9),e.NdJ("ngModelChange",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.idcollection=i)})("change",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.setIdCollection(i))}),e.TgZ(8,"option",10),e._uU(9,"Cr\xe9er une nouvelle collection"),e.qZA(),e.YNc(10,Ie,2,2,"option",11),e.qZA(),e.TgZ(11,"form",12),e.NdJ("submit",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.get.sendCloudNotices())}),e.TgZ(12,"label"),e._uU(13,"Titre *"),e.qZA(),e.TgZ(14,"input",13),e.NdJ("ngModelChange",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.get.scannedCollection.title=i)}),e.qZA(),e.TgZ(15,"label"),e._uU(16,"Alias *"),e.qZA(),e.TgZ(17,"input",14),e.NdJ("ngModelChange",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.get.scannedCollection.alias=i)}),e.qZA(),e.TgZ(18,"label"),e._uU(19,"Set *"),e.qZA(),e.TgZ(20,"input",15),e.NdJ("ngModelChange",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.get.scannedCollection.setname=i)}),e.qZA(),e.TgZ(21,"label"),e._uU(22,"Description"),e.qZA(),e.TgZ(23,"input",16),e.NdJ("ngModelChange",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.get.scannedCollection.description=i)}),e.qZA(),e.TgZ(24,"label"),e._uU(25,"Type *"),e.qZA(),e.TgZ(26,"select",17),e.NdJ("ngModelChange",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.get.scannedCollection.type=i)}),e.TgZ(27,"option",18),e._uU(28,"Images"),e.qZA(),e.TgZ(29,"option",19),e._uU(30,"Multim\xe9dia"),e.qZA()(),e.TgZ(31,"label"),e._uU(32,"Cr\xe9ateur"),e.qZA(),e.TgZ(33,"input",20),e.NdJ("ngModelChange",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.get.scannedCollection.creator=i)}),e.qZA(),e.TgZ(34,"label"),e._uU(35,"Fonds"),e.qZA(),e.TgZ(36,"input",21),e.NdJ("ngModelChange",function(i){e.CHM(n);const l=e.oxw();return e.KtG(l.get.scannedCollection.funds=i)}),e.qZA(),e.TgZ(37,"label"),e._uU(38),e.qZA(),e.TgZ(39,"label"),e._uU(40,"S\xe9ries"),e.qZA(),e.TgZ(41,"ul"),e.YNc(42,Qe,2,1,"li",6),e.qZA(),e.TgZ(43,"div"),e.YNc(44,Ye,1,1,"input",22),e.YNc(45,He,1,1,"input",23),e._UZ(46,"input",24),e.qZA()()()()}if(2&t){const n=e.oxw();e.xp6(7),e.Q6J("ngModel",n.idcollection),e.xp6(3),e.Q6J("ngForOf",n.get.scannedCollections),e.xp6(4),e.Q6J("ngModel",n.get.scannedCollection.title),e.xp6(3),e.Q6J("ngModel",n.get.scannedCollection.alias),e.xp6(3),e.Q6J("ngModel",n.get.scannedCollection.setname),e.xp6(3),e.Q6J("ngModel",n.get.scannedCollection.description),e.xp6(3),e.Q6J("ngModel",n.get.scannedCollection.type),e.xp6(7),e.Q6J("ngModel",n.get.scannedCollection.creator),e.xp6(3),e.Q6J("ngModel",n.get.scannedCollection.funds),e.xp6(2),e.hij("Langue ",n.get.scannedCollection.lang,""),e.xp6(4),e.Q6J("ngForOf",n.get.scannedCollection.series),e.xp6(2),e.Q6J("ngIf",!n.get.scannedCollection.idcollections),e.xp6(1),e.Q6J("ngIf",n.get.scannedCollection.idcollections)}}const $e=[{path:"",component:U,children:[{path:"",component:q},{path:"notices",component:ae},{path:"notice/:id",component:M},{path:"collections",component:q},{path:"collection:id",component:A},{path:"scan",component:(()=>{class t{constructor(n,o){this.get=n,this.token=o,this.idcollection=-1}ngOnInit(){}scanFold(n){this.dir=n,this.get.scanFolder(n)}setIdCollection(n){-1!=n.target.value&&(this.get.collection.idcollections=n.target.value)}setCollection(){console.log(this.get.collection)}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(s.Y),e.Y36(T.B))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-scan"]],decls:22,vars:4,consts:[[1,"screen","triple"],[1,"left-panel"],[3,"click"],[3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["class","selection",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"selection"],["f",""],[3,"ngModel","ngModelChange","change"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],[3,"submit"],["name","title","required","","placeholder","Titre de la collection",3,"ngModel","ngModelChange"],["name","alias","required","","placeholder","Pas d'espaces ni de caract\xe8res sp\xe9ciaux",3,"ngModel","ngModelChange"],["name","setname","required","","placeholder","Pas d'espaces ni de caract\xe8res sp\xe9ciaux",3,"ngModel","ngModelChange"],["name","description","placeholder","Pas d'espaces ni de caract\xe8res sp\xe9ciaux",3,"ngModel","ngModelChange"],["name","mediatype",3,"ngModel","ngModelChange"],["value","images"],["value","multimedia"],["name","creator","required","","placeholder","Pas d'espaces ni de caract\xe8res sp\xe9ciaux",3,"ngModel","ngModelChange"],["name","funds","placeholder","Pas d'espaces ni de caract\xe8res sp\xe9ciaux",3,"ngModel","ngModelChange"],["type","submit","value","Cr\xe9er la collection",3,"disabled",4,"ngIf"],["type","submit","value","Mettre \xe0 jour la collection",3,"disabled",4,"ngIf"],["type","reset","value","Annuler"],[3,"value"],["type","submit","value","Cr\xe9er la collection",3,"disabled"],["type","submit","value","Mettre \xe0 jour la collection",3,"disabled"]],template:function(n,o){1&n&&(e.TgZ(0,"section",0)(1,"aside",1)(2,"header")(3,"h1"),e._uU(4,"Scanner des SETs de donn\xe9es"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"Cliquez sur 'Scanner les dossiers' pour \xe9tablir la liste des SETs disponibles sur votre serveur de donn\xe9es."),e.qZA()(),e.TgZ(7,"button",2),e.NdJ("click",function(){return o.get.getFolders()}),e._uU(8,"Scanner les dossiers"),e.qZA(),e.TgZ(9,"ul"),e.YNc(10,Je,2,1,"li",3),e.qZA()(),e.TgZ(11,"section")(12,"header")(13,"h2"),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16,"Ces donn\xe9es sont extraites des m\xe9dias et class\xe9es en pr\xe9fixes correspondant \xe0 des espaces de noms sur les m\xe9tadonn\xe9es saisies."),e.qZA(),e.TgZ(17,"p"),e._uU(18,"Les pr\xe9fixes organisent les donn\xe9es en espaces de noms pour leur exploitation et leur moissonnage."),e.qZA()(),e.YNc(19,Fe,4,1,"article",4),e.qZA(),e.TgZ(20,"aside"),e.YNc(21,Le,47,13,"section",5),e.qZA()()),2&n&&(e.xp6(10),e.Q6J("ngForOf",o.get.scannedFolders),e.xp6(4),e.hij("Informations sur le SET choisi ","("+o.dir+")",""),e.xp6(5),e.Q6J("ngIf",o.get.scannedData),e.xp6(2),e.Q6J("ngIf",o.get.scannedData))},dependencies:[_.sg,_.O5,x.ib,x.yz,x.yK,x.u4,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.Q7,a.On,a.F,_.Nd],styles:["aside[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{flex-flow:column nowrap}"]}),t})()},{path:"parametres",component:Ne},{path:"profil",component:Pe},{path:"aide",loadChildren:()=>r.e(657).then(r.bind(r,2657)).then(t=>t.AideModule)}]}];let je=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild($e),u.Bz]}),t})();var Ke=r(2718),Ge=r(2950);let De=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[Z.F,Ke.g,s.Y,Ge.n],imports:[_.ez,je,d.q,a.u5,a.UX]}),t})()},4953:(N,C,r)=>{r.d(C,{F:()=>a});var _=r(5e3);let a=(()=>{class d{constructor(){this.params={limite:20,langue:"fr_FR"},this.limite=30}typeOf(s){return Array.isArray(s)?"array":typeof s}tronqueTab(s,e){return s.slice(e.min,e.max)}getObj(s){return"object"!=typeof s}setFormat(s){switch(console.log(s),s){case"mp3":case"oga":case"ogg":case"aac":return"audio/"+s;case"wav":return"audio/x-wav";case"mp4":case"webm":case"ogv":case"vba":return"video/"+s;case"rtf":case"pdf":return"application/"+s;case"jpg":case"jpeg":case"gif":case"png":case"webp":return"image/"+s;default:return!1}}setNoticeBg(s,e){const m=e.dc?e.dc.format:"image";let g="";return g=!m||-1==m.indexOf("video")&&-1==m.indexOf("audio")?m&&-1!=m.indexOf("application")?"assets/img/pictos/picto_docs.png":`${s}${e.nema.set_name}/${e.media.file}`:e.dc.coverage?e.dc.coverage:"assets/img/pictos/picto_media.png",`url("${g}")`}play(s){if(s.currentTarget.previousElementSibling){let e=s.currentTarget.previousElementSibling;(-1!=e.tagName.indexOf("VIDEO")||-1!=e.tagName.indexOf("AUDIO"))&&e.play()}}pause(s){if(s.currentTarget.previousElementSibling){let e=s.currentTarget.previousElementSibling;(-1!=e.tagName.indexOf("VIDEO")||-1!=e.tagName.indexOf("AUDIO"))&&e.pause()}}}return d.\u0275fac=function(s){return new(s||d)},d.\u0275prov=_.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()}}]);