{"ast":null,"code":"import { HttpClient } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let MediaService = /*#__PURE__*/(() => {\n  class MediaService {\n    constructor(http) {\n      this.http = http;\n      this.dataStorage = 'http://localhost:8080/api/';\n      this.initMedias = [];\n      this.loadAllMedias();\n    }\n    /**\r\n     * @method createMedia() - Retourne un obs. d'un create de media\r\n     * @returns {Observable}\r\n     */\n\n\n    createMedia(media) {\n      return this.http.post(this.dataStorage + 'medias/', media);\n    }\n    /**\r\n     * @method readMedia() - Retourne un obs. d'un read de media\r\n     * @returns {Observable}\r\n     */\n\n\n    readMedia(idMedia) {\n      return this.http.get(this.dataStorage + 'medias/' + idMedia);\n    }\n    /**\r\n     * @method createMedia() - Retourne un obs. d'un update de media\r\n     * @returns {Observable}\r\n     */\n\n\n    updateMedia(media) {\n      return this.http.put(this.dataStorage + 'medias/' + media._id, media);\n    }\n    /**\r\n     * @method createMedia() - Retourne un obs. d'un delete de media\r\n     * @returns {Observable}\r\n     */\n\n\n    deleteMedia(media) {\n      return this.http.delete(this.dataStorage + 'medias/' + media._id);\n    }\n    /**\r\n     * @method readAllMedia() - Retourne un obs. d'un read de tous les medias\r\n     * @returns {Observable}\r\n     */\n\n\n    readAllMedia() {\n      return this.http.get(this.dataStorage + 'medias/');\n    }\n    /**\r\n     * @method loadAllMedias() - Enregistre la liste des médias dans une variables\r\n     */\n\n\n    loadAllMedias() {\n      this.readAllMedia().subscribe(data => {\n        this.initMedias = data;\n      });\n    }\n    /**\r\n     * @method testCrudMedia() - test du service\r\n     * @returns {Observable}\r\n     */\n\n\n    testCrudMedia() {\n      /*\r\n      //read\r\n      let testMedia: MediaModel;\r\n      this.readMedia(1).subscribe(\r\n          data => {\r\n              testMedia = data[0];\r\n              console.log(testMedia);\r\n          }\r\n      );\r\n      */\n\n      /*\r\n      //update\r\n      let testMedia: MediaModel;\r\n      this.readMedia(1).subscribe(\r\n          data => {\r\n              testMedia = data[0];\r\n              console.log(testMedia);\r\n              testMedia.name += ' test';\r\n              this.updateMedia(testMedia).subscribe(\r\n                  () => {\r\n                      this.readMedia(1).subscribe(\r\n                          data => {\r\n                              testMedia = data[0];\r\n                              console.log(testMedia);\r\n                          }\r\n                      );\r\n                  }\r\n              );\r\n          }\r\n      );\r\n      */\n      //create\n\n      /*\r\n      this.readAllMedia().subscribe(\r\n          data => {\r\n              console.log(data);\r\n              let mediaTest = data[0];\r\n              mediaTest.id = data.length;\r\n              this.createMedia(mediaTest).subscribe(\r\n                  () => {\r\n                      this.readAllMedia().subscribe(\r\n                          data => {\r\n                              console.log(data);\r\n                          }\r\n                      );\r\n                  }\r\n              )\r\n          }\r\n      )\r\n      */\n      //delete\n\n      /*\r\n      this.readAllMedia().subscribe(\r\n          data => {\r\n              console.log(data);\r\n              let idTest = data.length-1;\r\n              let mediaTest = data[idTest];\r\n              this.deleteMedia(mediaTest).subscribe(\r\n                  () => {\r\n                      this.readAllMedia().subscribe(\r\n                          data => {\r\n                              console.log(data);\r\n                          }\r\n                      )\r\n                  }\r\n              );\r\n          }\r\n      )\r\n      */\n    }\n\n  }\n\n  MediaService.ɵfac = function MediaService_Factory(t) {\n    return new (t || MediaService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  MediaService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: MediaService,\n    factory: MediaService.ɵfac,\n    providedIn: 'root'\n  });\n  return MediaService;\n})();","map":null,"metadata":{},"sourceType":"module"}